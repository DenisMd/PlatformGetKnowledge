<div ng-controller="postController">
    <button ng-click="pasteCode()">Paste</button>
    <script type="text/ng-template" id="pasteCode.html">
        <md-dialog aria-label="Paste code" ng-cloak flex="80">
            <md-toolbar class="statistic-card-title">
                <div class="md-toolbar-tools">
                    <h2>{{parentScope.translate("code_header")}}</h2>
                </div>
            </md-toolbar>
            <md-dialog-content layout-padding>
                <form>
                    <div class="form-group">
                        <label for="codeTitle">{{parentScope.translate("code_title")}}</label>
                        <input type="text" class="form-control" id="codeTitle" ng-model="title">
                    </div>
                    <div class="form-group" layout="row" layout-padding>
                        <div layout="column" flex>
                            <label for="codeTitle" flex>{{parentScope.translate("code_mode")}}</label>
                            <select class="form-control" ng-model="parentScope.mode"
                                    ng-options="m as m.name for m in parentScope.programmingLanguages"
                                    ng-change="parentScope.modeChanged()" flex></select>
                        </div>
                        <div layout="column" flex>
                            <label for="codeTitle" flex>{{parentScope.translate("code_theme")}}</label>
                            <select class="form-control" ng-model="parentScope.theme"
                                    ng-options="m as m.name for m in parentScope.programmingStyles"
                                    ng-change="parentScope.themeChanged()" flex></select>
                        </div>
                    </div>
                    <div class="form-group">
                        <textarea class="code-textarea" ui-codemirror="parentScope.cmOption" ng-model="parentScope.code" ui-refresh="parentScope.refreshCode"></textarea>
                    </div>
                </form>
            </md-dialog-content>
            <md-dialog-actions layout="row">
                <md-button class="md-raised md-primary" ng-click="answer(bootstrap)">
                    {{parentScope.translate("doIt")}}
                </md-button>
                <md-button class="md-raised md-warn" ng-click="cancel()">
                    {{parentScope.translate("close")}}
                </md-button>
            </md-dialog-actions>
        </md-dialog>
    </script>
</div>