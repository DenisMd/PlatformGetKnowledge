<link rel="stylesheet" href="/resources/css/components/treeList.css">
<ul ng-controller="treeListController">
    <li ng-repeat="item in getData().dataList" class="top-item"
        ng-class="{'disabled-item' : item[getData().topSubItems].length == 0}"
        ng-hide="getData().hideDisabled && item[getData().topSubItems].length == 0">
        <span ng-click="setCurrentItem(item, 1)">{{item[getData().topField]}}</span>
        <ul>
            <li ng-repeat="subItem in item[getData().topSubItems]" ng-include="'menuTree'" ng-show="item.isOpen" class="first-sub-item"></li>
        </ul>
        <script type="text/ng-template" id="menuTree">
            <span ng-click="setCurrentItem(subItem)">{{ subItem[getData().subItemFieldTitle] }}</span>
            <ul ng-if="subItem[getData().subItemFieldSubItems]" ng-show="subItem.isOpen">
                <li ng-repeat="subItem in subItem[getData().subItemFieldSubItems]" ng-include="'menuTree'" class="sub-items">
                </li>
            </ul>
        </script>
    </li>
</ul>